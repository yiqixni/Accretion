{"ast":null,"code":"import{useState}from'react';import'./user-auth.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){const[userData,setUserData]=useState({\"username\":\"\",\"first_name\":\"\",\"last_name\":\"\",\"email\":\"\",\"password\":\"\",\"re_password\":\"\"});const cleanUserData=()=>{setUserData({\"username\":\"\",\"first_name\":\"\",\"last_name\":\"\",\"email\":\"\",\"password\":\"\",\"re_password\":\"\"});};const[signupError,setSignupError]=useState({});const changeHandler=event=>{setUserData({...userData,[event.target.name]:event.target.value});console.log(event.target.value);};const submitHandler=async event=>{event.preventDefault();fetch('http://127.0.0.1:8000/auth/users/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)}).then(response=>{if(!response.ok){return response.json().then(data=>{throw new Error(JSON.stringify(data));});}else{alert(\"Signup successful! Please sign in.\");cleanUserData();}return response.json();}).then(data=>{console.log(data);}).catch(error=>{setSignupError(JSON.parse(error.message));if(signupError.username){alert(\"username: \"+signupError.username);}console.log(signupError);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{children:['non_field_errors'in signupError&&/*#__PURE__*/_jsx(\"p\",{id:\"error-message\",children:signupError.non_field_errors}),/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",onChange:changeHandler,value:userData.username}),'username'in signupError&&/*#__PURE__*/_jsx(\"p\",{id:\"error-message\",children:signupError.username})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"first_name\",onChange:changeHandler,value:userData.first_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"last_name\",onChange:changeHandler,value:userData.last_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:changeHandler,value:userData.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:changeHandler,value:userData.password}),'password'in signupError&&/*#__PURE__*/_jsx(\"p\",{id:\"error-message\",children:signupError.password})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"re_password\",onChange:changeHandler,value:userData.re_password}),'re_password'in signupError&&/*#__PURE__*/_jsx(\"p\",{id:\"error-message\",children:signupError.re_password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign up\"})]})});}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Signup","userData","setUserData","cleanUserData","signupError","setSignupError","changeHandler","event","target","name","value","console","log","submitHandler","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","ok","json","data","Error","alert","catch","error","parse","message","username","children","onSubmit","id","non_field_errors","type","onChange","first_name","last_name","email","password","re_password"],"sources":["/Users/yxni-mbp/Dropbox (Personal)/Startup/Accretion/Website/frontend/React_Accretion/accretion/src/user-auth/Signup.js"],"sourcesContent":["import { useState } from 'react';\nimport './user-auth.css';\n\nexport default function Signup () {\n    const [userData, setUserData] = useState({\n        \"username\": \"\",\n        \"first_name\": \"\",\n        \"last_name\": \"\",\n        \"email\": \"\",\n        \"password\": \"\",\n        \"re_password\": \"\"\n    });\n\n    const cleanUserData = () => {\n        setUserData({\n            \"username\": \"\",\n            \"first_name\": \"\",\n            \"last_name\": \"\",\n            \"email\": \"\",\n            \"password\": \"\",\n            \"re_password\": \"\"\n        });\n    }\n\n    const [signupError, setSignupError] = useState({});\n    \n    const changeHandler = (event) => {\n        setUserData({\n            ...userData, \n            [event.target.name]: event.target.value\n        });\n        \n        console.log(event.target.value);\n    }\n\n    const submitHandler = async (event) => {\n        event.preventDefault();\n        \n        fetch('http://127.0.0.1:8000/auth/users/', {\n            method: 'POST', \n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(userData)\n        })\n        .then(response => {\n            if (!response.ok) {\n                return response.json()\n                .then(data => {throw new Error(JSON.stringify(data))})\n            } else {\n                alert(\"Signup successful! Please sign in.\");\n                cleanUserData();\n            }\n            return response.json();\n        })\n        .then(data => {\n            console.log(data);\n        })\n        .catch(error => {\n            setSignupError(JSON.parse(error.message));\n            if (signupError.username) {\n                alert(\"username: \" + signupError.username);\n            }\n            console.log(signupError);\n        })\n    }\n    \n    return (\n        <div>\n            <form onSubmit={submitHandler}> \n                <div>\n                    {('non_field_errors' in signupError) && <p id=\"error-message\">{signupError.non_field_errors}</p>}\n                    <label>Username</label>  \n                    <input type=\"text\" name=\"username\" onChange={changeHandler} value={userData.username} />  \n                    {('username' in signupError) && <p id=\"error-message\">{signupError.username}</p>}\n                </div>\n                <div>\n                    <label>First Name</label>  \n                    <input type=\"text\" name=\"first_name\" onChange={changeHandler} value={userData.first_name} />  \n                </div>\n                <div>\n                    <label>Last Name</label>  \n                    <input type=\"text\" name=\"last_name\" onChange={changeHandler} value={userData.last_name} />  \n                </div>\n                <div>\n                    <label>Email</label>  \n                    <input type=\"email\" name=\"email\" onChange={changeHandler} value={userData.email} />  \n                </div>\n                <div>\n                    <label>Password</label>  \n                    <input type=\"password\" name=\"password\" onChange={changeHandler} value={userData.password} />  \n                    {('password' in signupError) && <p id=\"error-message\">{signupError.password}</p>}\n                </div>\n                <div>\n                    <label>Confirm Password</label>  \n                    <input type=\"password\" name=\"re_password\" onChange={changeHandler} value={userData.re_password} />  \n                    {('re_password' in signupError) && <p id=\"error-message\">{signupError.re_password}</p>}\n                </div>\n                <button type=\"submit\">Sign up</button>   \n            </form>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}