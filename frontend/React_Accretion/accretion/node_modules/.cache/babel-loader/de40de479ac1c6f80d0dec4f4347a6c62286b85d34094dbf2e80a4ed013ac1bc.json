{"ast":null,"code":"import{useParams}from'react-router-dom';import{useState,useEffect,useContext,createContext}from'react';import Order from'../order/Order';import OrderBookChart from'../order-book/OrderBookChart';import'./PropertyInfo.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PropertyInfoContext=/*#__PURE__*/createContext(undefined);export default function PropertyInfo(){const{id}=useParams();const[images,setImages]=useState([]);const[detail,setDetail]=useState({address:\"\",description:\"\"});const[marketInfo,setMarketInfo]=useState();// fetch PropertyInfo with id from API \nuseEffect(()=>{const getProperty=async()=>{try{const response=await fetch(\"http://127.0.0.1:8000/api/buy/?id=\".concat(id),{method:\"GET\",headers:{// \"Authorization\": `JWT ${jwt.access}` \n}});const data=await response.json();setImages(data[0].images.map(images=>images.image));setDetail({address:data[0].address,description:data[0].description});setMarketInfo({asking_price:data[0].asking_price,shares:data[0].shares});}catch(error){console.log(error);}};getProperty();},[]);const PropertyInfoProvider=_ref=>{let{children}=_ref;return/*#__PURE__*/_jsx(PropertyInfoContext.Provider,{value:{images,detail,marketInfo},children:children});};return/*#__PURE__*/_jsx(PropertyInfoProvider,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"three-column-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"images\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image-lead\",src:images[0]})}),/*#__PURE__*/_jsx(\"div\",{className:\"buy-sell-tab\",children:/*#__PURE__*/_jsx(Order,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"three-column-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"property-details\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"p\",{children:detail.address}),/*#__PURE__*/_jsx(\"h6\",{children:\"What's special\"}),/*#__PURE__*/_jsx(\"p\",{children:detail.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bid-ask-chart\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Bid/ask chart\"}),/*#__PURE__*/_jsx(OrderBookChart,{})]})]})]})});}export const usePropertyInfo=()=>{const context=useContext(PropertyInfoContext);if(!context){throw new Error(\"usePropertyInfo must be wrap inside of PropertyInfoProvider\");}return context;};","map":{"version":3,"names":["useParams","useState","useEffect","useContext","createContext","Order","OrderBookChart","jsx","_jsx","jsxs","_jsxs","PropertyInfoContext","undefined","PropertyInfo","id","images","setImages","detail","setDetail","address","description","marketInfo","setMarketInfo","getProperty","response","fetch","concat","method","headers","data","json","map","image","asking_price","shares","error","console","log","PropertyInfoProvider","_ref","children","Provider","value","className","src","usePropertyInfo","context","Error"],"sources":["/Users/yxni-mbp/Dropbox (Personal)/Startup/Accretion/Website/frontend/React_Accretion/accretion/src/property-info/PropertyInfo.js"],"sourcesContent":["import {useParams} from 'react-router-dom'; \nimport {\n        useState, \n        useEffect,\n        useContext, \n        createContext\n    } from 'react';\n\nimport Order from '../order/Order'; \nimport OrderBookChart from '../order-book/OrderBookChart';\n\nimport './PropertyInfo.css'; \n\nconst PropertyInfoContext = createContext(undefined); \n\nexport default function PropertyInfo () {\n    const { id } = useParams(); \n\n    const [images, setImages] = useState([]); \n    const [detail, setDetail] = useState({\n        address: \"\", \n        description: \"\"\n    }); \n    const [marketInfo, setMarketInfo] = useState(); \n\n    // fetch PropertyInfo with id from API \n    useEffect(() => {\n        const getProperty = async () => {\n            try {\n                const response = await fetch(\n                    `http://127.0.0.1:8000/api/buy/?id=${id}`, \n                    {\n                        method: \"GET\", \n                        headers: {\n                            // \"Authorization\": `JWT ${jwt.access}` \n                        }\n                    }\n                )\n                const data = await response.json(); \n                setImages(data[0].images.map((images)=> images.image));\n                setDetail({\n                    address: data[0].address, \n                    description: data[0].description\n                })\n                setMarketInfo({\n                    asking_price: data[0].asking_price, \n                    shares: data[0].shares \n                })\n            } \n            catch (error) {\n                console.log(error)\n            }\n        }\n\n        getProperty(); \n    }, [])\n\n    const PropertyInfoProvider = ({ children }) => {\n        \n        return (\n            <PropertyInfoContext.Provider value={{ images, detail, marketInfo }}>\n                { children }\n            </PropertyInfoContext.Provider>\n        )\n    }\n\n    return (\n        <PropertyInfoProvider>\n            <div>\n                <div className='three-column-container'>\n                    <div className='images'>\n                        <img \n                            className='image-lead' \n                            src={images[0]}\n                        />\n                    </div>\n                    <div className='buy-sell-tab'>\n                        <Order />\n                    </div>\n                </div>\n                <div className='three-column-container'> \n                    <div className='property-details'>\n                        <h6>Location</h6>\n                        <p>\n                            {detail.address} \n                        </p>\n                        <h6>What's special</h6>\n                        <p>\n                            {detail.description} \n                        </p>\n                    </div>\n                    <div className='bid-ask-chart'>\n                        <h5>Bid/ask chart</h5>\n                        <OrderBookChart />\n                    </div>\n                </div>\n            </div>\n        </PropertyInfoProvider>\n    )\n    \n}\n\nexport const usePropertyInfo = () => {\n    const context = useContext(PropertyInfoContext); \n\n    if (!context) {\n        throw new Error(\"usePropertyInfo must be wrap inside of PropertyInfoProvider\"); \n    }\n\n    return context; \n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}