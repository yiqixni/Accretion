{"ast":null,"code":"/* \nBuy: fetch GET to get all available PropertyInfos and present them in a grid. \n*/import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{Helmet}from'react-helmet';import Config from'../Config';import ContactUs from'../contact-us/ContactUs';import'./Buy.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Buy(){const[propertyData,setPropertyData]=useState([]);useEffect(()=>{const getProperties=async()=>{try{const response=await fetch(Config.API_URL+\"api/buy/\",{method:\"GET\",headers:{// \"Authorization\": `JWT ${jwt.access}` \n}});const data=await response.json();setPropertyData(data);}catch(error){console.log(error);}};getProperties();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"buy\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Buy | Accretion\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Properties on sale\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"property-grid\",children:propertyData.map(propertyInfo=>/*#__PURE__*/_jsx(Link,{to:\"/buy/\".concat(propertyInfo.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"property-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:propertyInfo.images[0].image}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Address: \",propertyInfo.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Asking price: \",propertyInfo.asking_price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Shares for sale: \",propertyInfo.shares]})]})},propertyInfo.id))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Don't see the property you want to buy?\"}),/*#__PURE__*/_jsx(ContactUs,{})]})]});}","map":{"version":3,"names":["useEffect","useState","Link","Helmet","Config","ContactUs","jsx","_jsx","jsxs","_jsxs","Buy","propertyData","setPropertyData","getProperties","response","fetch","API_URL","method","headers","data","json","error","console","log","className","children","map","propertyInfo","to","concat","id","src","images","image","address","asking_price","shares"],"sources":["/Users/yxni-mbp/Dropbox (Personal)/Startup/Accretion/Website/frontend/React_Accretion/accretion/src/buy/Buy.js"],"sourcesContent":["/* \nBuy: fetch GET to get all available PropertyInfos and present them in a grid. \n*/\n\nimport { useEffect, useState } from 'react'; \nimport { Link } from 'react-router-dom'; \nimport { Helmet } from 'react-helmet';\n\nimport Config from '../Config';\nimport ContactUs from '../contact-us/ContactUs';\nimport './Buy.css';\n\nexport default function Buy () {\n    const [propertyData, setPropertyData] = useState([]);\n\n    useEffect(() => {\n        const getProperties = async () => {\n            try {\n                const response = await fetch(\n                    Config.API_URL + \"api/buy/\",\n                    {\n                        method: \"GET\", \n                        headers: {\n                            // \"Authorization\": `JWT ${jwt.access}` \n                        }\n                    }\n                )\n                const data = await response.json(); \n                setPropertyData(data); \n            } \n            catch (error) {\n                console.log(error)\n            }\n        }\n\n        getProperties(); \n\n    },[])\n    \n\n    return (\n        <div className='buy'>\n            <Helmet>\n                <title>Buy | Accretion</title>\n            </Helmet>\n            <div>\n                <h3>Properties on sale</h3>\n            </div>\n            <div className=\"property-grid\">\n                {\n                    propertyData.map((propertyInfo)=>(\n                        <Link to={`/buy/${propertyInfo.id}`} key={propertyInfo.id}>\n                            <div className=\"property-card\" >\n                            <img src={propertyInfo.images[0].image}/>\n                            <p>Address: {propertyInfo.address}</p>\n                            <p>Asking price: {propertyInfo.asking_price}</p>\n                            <p>Shares for sale: {propertyInfo.shares}</p>\n                            </div>\n                        </Link>\n                    ))\n                }\n            </div>\n            <div>\n                <h3>Don't see the property you want to buy?</h3>\n                <ContactUs />\n            </div>\n            \n        </div>\n    )\n}"],"mappings":"AAAA;AACA;AACA,EAEA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,MAAM,KAAQ,cAAc,CAErC,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnB,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAI,CAC3B,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEpDD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAa,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CACxBX,MAAM,CAACY,OAAO,CAAG,UAAU,CAC3B,CACIC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL;AAAA,CAER,CACJ,CAAC,CACD,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCR,eAAe,CAACO,IAAI,CAAC,CACzB,CACA,MAAOE,KAAK,CAAE,CACVC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CACJ,CAAC,CAEDR,aAAa,CAAC,CAAC,CAEnB,CAAC,CAAC,EAAE,CAAC,CAGL,mBACIJ,KAAA,QAAKe,SAAS,CAAC,KAAK,CAAAC,QAAA,eAChBlB,IAAA,CAACJ,MAAM,EAAAsB,QAAA,cACHlB,IAAA,UAAAkB,QAAA,CAAO,iBAAe,CAAO,CAAC,CAC1B,CAAC,cACTlB,IAAA,QAAAkB,QAAA,cACIlB,IAAA,OAAAkB,QAAA,CAAI,oBAAkB,CAAI,CAAC,CAC1B,CAAC,cACNlB,IAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAEtBd,YAAY,CAACe,GAAG,CAAEC,YAAY,eAC1BpB,IAAA,CAACL,IAAI,EAAC0B,EAAE,SAAAC,MAAA,CAAUF,YAAY,CAACG,EAAE,CAAG,CAAAL,QAAA,cAChChB,KAAA,QAAKe,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC9BlB,IAAA,QAAKwB,GAAG,CAAEJ,YAAY,CAACK,MAAM,CAAC,CAAC,CAAC,CAACC,KAAM,CAAC,CAAC,cACzCxB,KAAA,MAAAgB,QAAA,EAAG,WAAS,CAACE,YAAY,CAACO,OAAO,EAAI,CAAC,cACtCzB,KAAA,MAAAgB,QAAA,EAAG,gBAAc,CAACE,YAAY,CAACQ,YAAY,EAAI,CAAC,cAChD1B,KAAA,MAAAgB,QAAA,EAAG,mBAAiB,CAACE,YAAY,CAACS,MAAM,EAAI,CAAC,EACxC,CAAC,EANgCT,YAAY,CAACG,EAOjD,CACT,CAAC,CAEL,CAAC,cACNrB,KAAA,QAAAgB,QAAA,eACIlB,IAAA,OAAAkB,QAAA,CAAI,yCAAuC,CAAI,CAAC,cAChDlB,IAAA,CAACF,SAAS,GAAE,CAAC,EACZ,CAAC,EAEL,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}